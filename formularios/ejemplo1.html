<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!--Haz un formulario basico-->

    <form action="" method="post">
        Nombre: <input type="text" name="nombre" id="nombre" size="30">
        <br>
        Apellidos: <input type="text" name="apellido" id="apellido" size="40">
        <br>
        DNI: <input type="text" name="dni" id="dni" maxlength="9" size =10>
        <br>

        Sexo:
        <br>
        <input type="radio" name="gen" id="hombre" checked>Hombre
        <br>
        <input type="radio" name="gen" id="mujer">Mujer
        <br>
        Incluir mi foto: <input type="file" name="foto" id="foto">
        <br>
        <input type="checkbox" name="publi" id="publi" checked>Enviar publicidad
        <br>
        <input type="submit" name="enviar" value="Guardar cambios"/><input type="submit" value="Borrar datos introducidos" name="cancelar"/>
    </form>

    <!--Ahora introduce un select. Un alert lo recorrerá y sacará la frase que se selecciona por defecto. Además, debe haber una opcion crear donde le meta nuevas opciones-->
    <select id="aprobar" >
        <option value="10">Saco 10 en DWEC</option>
        <option value="9">Saco 9 en DWEC</option>
        <option value="8">Saco 8 en DWEC</option>
        <option value="ok" id="ok">Agregar</option><!--usa insertBefore para que agregar siempre sea el ultimo-->
    </select>

    <script>
           /* var elemento=document.getElementById("aprobar");
                for(i=0;i<elemento.options.length;i++){
                alert("Valor de la opcion "+elemento.options[i].value);
                }
            var sel=elemento.selectedIndex;
            alert("El valor de la opcion seleccionada es "+elemento.options[sel].value+" y el texto asociado es "+elemento.options[sel].text);
            // Para cambiar  el índice seleccionado:
            elemento.selectedIndex=0;*/
    </script>
    <script>
        document.getElementById("aprobar").addEventListener("change", agregar());

        function agregar(){
            if(elemento.value!=="ok"){
            var nuevo = document.createElement("option");//creamos un option
            var valor = document.createTextNode(prompt("Dame la nueva opcion"));//Damos el texto que ira dentro del option

            nuevo.appendChild(valor);//metemos el texto dado en el option

            var lista=document.getElementById("aprobar");//seleccionamos la lista de los options
            var ultimo = document.getElementById("ok")
            lista.insertBefore(nuevo, ultimo);//metemos la nueva option a la lista. con insertBefore primero damos el dato a meter y luego el dato del que va a quedar detras del nuevo dato
            }


        }

    </script>
</body>
</html>